\documentclass[11pt, oneside]{article}   	% use "amsart" instead of "article" for AMSLaTeX format
\usepackage{geometry} 
\usepackage{pgfplots} 
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.5}               		% See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   		% ... or a4paper or a5paper or ... 
%\geometry{landscape}                		% Activate for for rotated page geometry
%\usepackage[parfill]{parskip}    		% Activate to begin paragraphs with an empty line rather than an indent
\usepackage{graphicx}				% Use pdf, png, jpg, or eps§ with pdflatex; use eps in DVI mode
								% TeX will automatically convert eps --> pdf in pdflatex		
\usepackage{amssymb}

\title{CS 325: Project 3, Question 3}
\author{Cera Olson, Robert Erick,  Jacob Mastel}
\date{25 May 2015}							% Activate to display a given date or no date

\begin{document}
\maketitle
\section{Part A}
One alternative to the least squares line is the Least Absolute Deviations (LAD). Formulate a linear program whose optimal solution minimizes the sum of the absolute deviations of the data from the line. That is formulate 
\begin{center} $ min  \sum_{i=1}^{n} |y_{i} - (a_{1}x_{i} + a_{0})|$ \end{center} 
as an LP and solve for the $a_0$ and $a_1$ that minimize the sum of absolute deviations.

\subsection{i: Write the linear program for the general problem written as an objective and set of constraints}
The goal is to minimize $ min  \sum_{i=1}^{n} |y_{i} - (a_{1}x_{i} + a_{0})|$. In order to create an objective, we drop the sum and set it equal to $z_i$ for all values $i = 1,...,n$. We can reduce that by dropping the absolute values and set it as an inequality.
\begin{center} $-z_{i} \leq y_{i} - (a_{1}x_{i} + a_{0}) \leq z_{i}$  \end{center}
After that it gets simplified down to the following objectives and constraints. 

\begin{center} $ y_{i} - (a_{1}x_{i} + a_{0}) \leq z_{i}$  for all values $i = 1,...,n$\end{center}
\begin{center} $ y_{i} - (a_{1}x_{i} + a_{0}) \geq -z_{i}$  for all values $i = 1,...,n$\end{center}

\subsection{ii: Use the linear program to find the LAD regression line for the data set $(x,y) = { (1,5), (1, 3), (2, 13), ( 3, 8), (4,10), ( 5, 14), (6, 18) }$
What was the sum of absolute deviations?}

The absolute deviation is calculated by taking the least squares values for y and finding the difference between that and the calculated actual value of y using the data. See the chart below. The trendline has an equation of $y = 2.315x + 2.875$

\begin{table}[ht]\caption{Part A (ii)}\centering\begin{tabular}{c | c | c | c | c}\hline\hlinex & y: Data Points & Trendline & Differences & Squared \\ [0.5ex] % inserts table %heading\hline1 & 5 & 3.93 & 1.07 & 1.15 \\1 & 3 & 3.93 & 0.93 & 0.87 \\2 & 13 & 5.99 & 7.01 & 49\\3 & 8 & 8.07 & 0.07 & 0.01 \\4 & 10 & 10.14 & 0.14 & 0.02 \\
5 & 14 & 12.21 & 1.79 & 3.2 \\
6 & 18 & 14.29 & 3.72 & 13.84 \\ [1ex]\hline\end{tabular}\label{table:nonlin}\end{table}

Based on the chart above, the sum of the absolute deviations is 14.73.

\subsection{iii: Plot the points and graph your LAD line and the least squares line. Comment.}
The value for point 2 appears to be an outlier. The value of the data point at x = 2 falls outside the line of best fit the most. 


%\begin{tikzpicture}
%\begin{axis}[
%    title={Part A ii},
%    xlabel={x values},
%    ylabel={y values},
%    xmin=0, xmax=7,
%    ymin=0, ymax=20,
%    xtick={0,1, 2, 3, 4, 5, 6},
%    ytick={0,4, 8, 12, 16, 20},
%    legend pos=north west,
%    ymajorgrids=true,
%    grid style=dashed,
%]
%    \addplot[color=blue,
%    mark=square] table{
%        X Y
%        1 5
%        1 3
%        2 13
%        3 8
%        4 10
%        5 14
%        6 18 };
%    \addlegendentry{True Data}
%    \addplot table[%        y={create col/linear regression={y=Y}}] % compute a linear regression from the input table%    {
%        X Y
%        1 5
%        1 3
%        2 13
%        3 8
%        4 10
%        5 14
%        6 18};
%    \addlegendentry{%%        $\pgfmathprintnumber{\pgfplotstableregressiona} \cdot x%        \pgfmathprintnumber[print sign]{\pgfplotstableregressionb}$};
%
%\end{axis}
%\end{tikzpicture}




\end{document}  